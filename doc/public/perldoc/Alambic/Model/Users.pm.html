<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<title>Alambic::Model::Users &mdash; Alambic Perldoc</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="stylesheet" href="../../podstyle.css" type="text/css" />
</head>
<body><div class="box">
  <h1 class="t1">Alambic Perldoc</h1>
  <table>
    <tr>
      <td class="label">Description</td>
      <td class="cell">Alambic</td>
    </tr>
  </table>
</div>
<div class="path">
  <a href="../../index.html">Alambic Perldoc</a> &gt; Perl Modules &gt;
  Alambic::Model::Users
</div>
<div>
<a href="../../src/Alambic/Model/Users.pm">Source</a>
</div>

<div class="pod">


<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#new">new()</a></li>
      <li><a href="#validate_user">validate_user()</a></li>
      <li><a href="#generate_passwd">generate_passwd()</a></li>
      <li><a href="#get_user">get_user()</a></li>
      <li><a href="#get_users">get_users()</a></li>
      <li><a href="#get_roles">get_roles()</a></li>
      <li><a href="#get_projects_for_user">get_projects_for_user()</a></li>
    </ul>
  </li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p><b>Alambic::Model::Users</b> - A class to manage, and get information about, users.</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>    my $users = Alambic::Model::Users-&gt;new();    
    my $list = $users-&gt;get_roles();</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p><b>Alambic::Model::Users</b> provides a common interface to manage, and get information about, users in Alambic.</p>

<h1 id="METHODS">METHODS</h1>

<h2 id="new"><code>new()</code></h2>

<pre><code>    my $users = Alambic::Model::Users-&gt;new();    </code></pre>

<p>Creates a new <a href="Users.pm.html">Alambic::Model::Users</a> object to interact with users of Alambic.</p>

<h2 id="validate_user"><code>validate_user()</code></h2>

<pre><code>    if ($users-&gt;validate_user(&#39;boris&#39;, &#39;password&#39;) {
      print &quot;Yeah\n&quot;;
    }</code></pre>

<p>Check that the user exists and the password is correct. Returns the user ID if ok, undef otherwise.</p>

<h2 id="generate_passwd"><code>generate_passwd()</code></h2>

<pre><code>    my $hash = $user-&gt;generate_passwd(&#39;mypassword&#39;);</code></pre>

<p>Encrypt a password using <a href="http://search.cpan.org/perldoc?Crypto::PBKDF2">Crypto::PBKDF2</a>. Returns a hash.</p>

<h2 id="get_user"><code>get_user()</code></h2>

<pre><code>    my $u = $users-&gt;get_user(&#39;boris&#39;);</code></pre>

<p>Get information about a user. Returns a hash reference.</p>

<pre><code>    {
      &#39;notifs&#39; =&gt; {},
      &#39;name&#39; =&gt; &#39;Administrator&#39;,
      &#39;roles&#39; =&gt; [&#39;Admin&#39;],
      &#39;email&#39; =&gt; &#39;alambic@castalia.solutions&#39;,
      &#39;passwd&#39; =&gt; &#39;{X-PBKDF2}HMACSHA1:AAAD6A:5R2HIw==:3c7E0POr1PCmC7XQdahjgr/PDus=&#39;,
      &#39;projects&#39; =&gt; {},
      &#39;id&#39; =&gt; &#39;administrator&#39;
    }</code></pre>

<h2 id="get_users"><code>get_users()</code></h2>

<pre><code>    my $u = $users-&gt;get_users(),</code></pre>

<p>Get information about all users. Returns a hash reference.</p>

<pre><code>    {
      &#39;administrator&#39; =&gt; {
        &#39;notifs&#39; =&gt; {},
        &#39;name&#39; =&gt; &#39;Administrator&#39;,
        &#39;roles&#39; =&gt; [&#39;Admin&#39;],
        &#39;email&#39; =&gt; &#39;alambic@castalia.solutions&#39;,
        &#39;passwd&#39; =&gt; &#39;{X-PBKDF2}HMACSHA1:AAAD6A:5R2HIw==:3c7E0POr1PCmC7XQdahjgr/PDus=&#39;,
        &#39;projects&#39; =&gt; {},
        &#39;id&#39; =&gt; &#39;administrator&#39;
      }
    }</code></pre>

<h2 id="get_roles"><code>get_roles()</code></h2>

<pre><code>    my $list = $users-&gt;get_roles();</code></pre>

<p>Get the list of roles defined in this instance.</p>

<pre><code>    [
      &#39;Admin&#39;,
      &#39;Project&#39;,
      &#39;Guest&#39;
    ];</code></pre>

<h2 id="get_projects_for_user"><code>get_projects_for_user()</code></h2>

<pre><code>    my $list = $users-&gt;get_projects_for_user(&#39;boris&#39;);</code></pre>

<p>Get list of projects for a user.</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p><a href="http://search.cpan.org/perldoc?Mojolicious">Mojolicious</a>, <a href="http://alambic.io">http://alambic.io</a>, <a href="https://bitbucket.org/BorisBaldassari/alambic">https://bitbucket.org/BorisBaldassari/alambic</a></p>

</div><div class="footer">generated by <a href="http://search.cpan.org/perldoc?Pod::ProjectDocs">Pod::ProjectDocs</a></div></body></html>

